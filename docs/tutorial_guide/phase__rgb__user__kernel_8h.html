<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>TIOVX Tutorials: phase_rgb_user_kernel.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ti_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TIOVX Tutorials
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('phase__rgb__user__kernel_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">phase_rgb_user_kernel.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="vx__tutorial__kernels_8h_source.html">vx_tutorial_kernels.h</a>&gt;</code><br/>
</div>
<p><a href="phase__rgb__user__kernel_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5e51581ab691a0e9037aed069be8495b"><td class="memItemLeft" align="right" valign="top">vx_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="phase__rgb__user__kernel_8h.html#a5e51581ab691a0e9037aed069be8495b">phase_rgb_user_kernel_add</a> (vx_context context, vx_bool add_as_target_kernel)</td></tr>
<tr class="memdesc:a5e51581ab691a0e9037aed069be8495b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add user/target kernel to OpenVX context.  <a href="#a5e51581ab691a0e9037aed069be8495b">More...</a><br/></td></tr>
<tr class="separator:a5e51581ab691a0e9037aed069be8495b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25ca1ab2d5d29d7d84d81ddc366a464c"><td class="memItemLeft" align="right" valign="top">vx_status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="phase__rgb__user__kernel_8h.html#a25ca1ab2d5d29d7d84d81ddc366a464c">phase_rgb_user_kernel_remove</a> (vx_context context)</td></tr>
<tr class="memdesc:a25ca1ab2d5d29d7d84d81ddc366a464c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove user/target kernel from context.  <a href="#a25ca1ab2d5d29d7d84d81ddc366a464c">More...</a><br/></td></tr>
<tr class="separator:a25ca1ab2d5d29d7d84d81ddc366a464c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88488bc22b7681a4c2ad9cc7e80bd214"><td class="memItemLeft" align="right" valign="top">vx_node&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="phase__rgb__user__kernel_8h.html#a88488bc22b7681a4c2ad9cc7e80bd214">phase_rgb_user_kernel_node</a> (vx_graph graph, vx_image in, vx_image out)</td></tr>
<tr class="memdesc:a88488bc22b7681a4c2ad9cc7e80bd214"><td class="mdescLeft">&#160;</td><td class="mdescRight">User/target kernel node create function.  <a href="#a88488bc22b7681a4c2ad9cc7e80bd214">More...</a><br/></td></tr>
<tr class="separator:a88488bc22b7681a4c2ad9cc7e80bd214"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Interface file for user kernel functions</p>
<p>These interface functions are called by OpenVX application. </p>

<p>Definition in file <a class="el" href="phase__rgb__user__kernel_8h_source.html">phase_rgb_user_kernel.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a5e51581ab691a0e9037aed069be8495b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vx_status phase_rgb_user_kernel_add </td>
          <td>(</td>
          <td class="paramtype">vx_context&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vx_bool&#160;</td>
          <td class="paramname"><em>add_as_target_kernel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add user/target kernel to OpenVX context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>[in] OpenVX context into with the user kernel is added </td></tr>
    <tr><td class="paramname">add_as_target_kernel</td><td>[in] 'vx_false_e', add this kernel as user kernel <br/>
 'vx_true_e', add this kernel as target kernel <br/>
</td></tr>
  </table>
  </dd>
</dl>
<ul>
<li>Depending on 'add_as_target_kernel' invoke user kernel or target kernel specific registration logic</li>
</ul>
<p><a class="el" href="phase__rgb__user__kernel_8c.html#aaac0a07f835c24f1c543e423fe3d54ac">phase_rgb_user_kernel_id</a> is set as part of this function invocation. </p>
<div class="fragment"><div class="line">  /</div>
<div class="line"><span class="keywordflow">if</span>(add_as_target_kernel==vx_false_e)</div>
<div class="line">{</div>
<div class="line">    kernel = <a class="code" href="phase__rgb__user__kernel_8c.html#a7c691dea4f45ce5f916b8a85755bd96a">phase_rgb_user_kernel_add_as_user_kernel</a>(context);</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">if</span>(add_as_target_kernel==vx_true_e)</div>
<div class="line">{</div>
<div class="line">    kernel = <a class="code" href="phase__rgb__user__kernel_8c.html#aba18efe50f3602ef221480ead3cf5879">phase_rgb_user_kernel_add_as_target_kernel</a>(context);</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>Checking is kernel was added successfully to OpenVX context <div class="fragment"><div class="line">  /</div>
<div class="line">status = vxGetStatus((vx_reference)kernel);</div>
</div><!-- fragment --></li>
<li><p class="startli">Now define parameters for the kernel</p>
<p class="startli">When specifying the parameters, the below attributes of each parameter are specified,</p>
<ul>
<li>parameter index in the function parameter list</li>
<li>the parameter direction: VX_INPUT or VX_OUTPUT</li>
<li>parameter data object type</li>
<li>paramater state: VX_PARAMETER_STATE_REQUIRED or VX_PARAMETER_STATE_OPTIONAL <div class="fragment"><div class="line">  /</div>
<div class="line">index = 0;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> ( status == VX_SUCCESS)</div>
<div class="line">{</div>
<div class="line">    status = vxAddParameterToKernel(kernel,</div>
<div class="line">        index,</div>
<div class="line">        VX_INPUT,</div>
<div class="line">        VX_TYPE_IMAGE,</div>
<div class="line">        VX_PARAMETER_STATE_REQUIRED</div>
<div class="line">        );</div>
<div class="line">    index++;</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">if</span> ( status == VX_SUCCESS)</div>
<div class="line">{</div>
<div class="line">    status = vxAddParameterToKernel(kernel,</div>
<div class="line">        index,</div>
<div class="line">        VX_OUTPUT,</div>
<div class="line">        VX_TYPE_IMAGE,</div>
<div class="line">        VX_PARAMETER_STATE_REQUIRED</div>
<div class="line">        );</div>
<div class="line">    index++;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
</li>
<li>After all parameters are defined, now the kernel is finalized, i.e it is ready for use. <div class="fragment"><div class="line">  /</div>
<div class="line"><span class="keywordflow">if</span> ( status == VX_SUCCESS)</div>
<div class="line">{</div>
<div class="line">    status = vxFinalizeKernel(kernel);</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Set kernel handle to the global user kernel handle</li>
</ul>
<p>This global handle is used later to release the kernel when done with it </p>
<div class="fragment"><div class="line">  /</div>
<div class="line"><a class="code" href="phase__rgb__user__kernel_8c.html#a3b79a7d30f81ffb2fb3860724609f919">phase_rgb_user_kernel</a> = kernel;</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="phase__rgb__user__kernel_8c_source.html#l00144">144</a> of file <a class="el" href="phase__rgb__user__kernel_8c_source.html">phase_rgb_user_kernel.c</a>.</p>

</div>
</div>
<a class="anchor" id="a25ca1ab2d5d29d7d84d81ddc366a464c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vx_status phase_rgb_user_kernel_remove </td>
          <td>(</td>
          <td class="paramtype">vx_context&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove user/target kernel from context. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">context</td><td>[in] OpenVX context from which the kernel will be removed </td></tr>
  </table>
  </dd>
</dl>
<ul>
<li>Remove user kernel from context and set the global 'phase_rgb_user_kernel' to NULL</li>
</ul>
<div class="fragment"><div class="line">  /</div>
<div class="line">status = vxRemoveKernel(<a class="code" href="phase__rgb__user__kernel_8c.html#a3b79a7d30f81ffb2fb3860724609f919">phase_rgb_user_kernel</a>);</div>
<div class="line"><a class="code" href="phase__rgb__user__kernel_8c.html#a3b79a7d30f81ffb2fb3860724609f919">phase_rgb_user_kernel</a> = NULL;</div>
</div><!-- fragment --> 
<p>Definition at line <a class="el" href="phase__rgb__user__kernel_8c_source.html#l00373">373</a> of file <a class="el" href="phase__rgb__user__kernel_8c_source.html">phase_rgb_user_kernel.c</a>.</p>

</div>
</div>
<a class="anchor" id="a88488bc22b7681a4c2ad9cc7e80bd214"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vx_node phase_rgb_user_kernel_node </td>
          <td>(</td>
          <td class="paramtype">vx_graph&#160;</td>
          <td class="paramname"><em>graph</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vx_image&#160;</td>
          <td class="paramname"><em>in</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vx_image&#160;</td>
          <td class="paramname"><em>out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User/target kernel node create function. </p>
<p>Given a graph reference, this function creates a OpenVX node and inserts it into the graph. The list of parameter references is also provided as input. Exact data type are used instead of base class references to allow some level of compile time type checking. In this example, there is one input image and one output image that are passed as parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">graph</td><td>[in] OpenVX graph </td></tr>
    <tr><td class="paramname">in</td><td>[in] Input image reference </td></tr>
    <tr><td class="paramname">out</td><td>[in] Output image reference</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>OpenVX node that is created and inserted into the graph </dd></dl>
<ul>
<li>Put parameters into a array of references <div class="fragment"><div class="line">  /</div>
<div class="line">vx_reference refs[] = {(vx_reference)in, (vx_reference)out};</div>
</div><!-- fragment --></li>
<li>Use TIOVX API to make a node using the graph, kernel ID, and parameter reference array as input <div class="fragment"><div class="line">  /</div>
<div class="line">node = tivxCreateNodeByKernelEnum(graph,</div>
<div class="line">            <a class="code" href="phase__rgb__user__kernel_8c.html#aaac0a07f835c24f1c543e423fe3d54ac">phase_rgb_user_kernel_id</a>,</div>
<div class="line">            refs, <span class="keyword">sizeof</span>(refs)/<span class="keyword">sizeof</span>(refs[0])</div>
<div class="line">            );</div>
<div class="line">vxSetReferenceName((vx_reference)node, <span class="stringliteral">&quot;PHASE_RGB&quot;</span>);</div>
</div><!-- fragment --> </li>
</ul>

<p>Definition at line <a class="el" href="phase__rgb__user__kernel_8c_source.html#l00705">705</a> of file <a class="el" href="phase__rgb__user__kernel_8c_source.html">phase_rgb_user_kernel.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_07c2df013bb20677b8e65a9f18968d2c.html">tutorial</a></li><li class="navelem"><a class="el" href="dir_307a8bb882813a7025380ea070a5f4d7.html">ch03_graph</a></li><li class="navelem"><a class="el" href="phase__rgb__user__kernel_8h.html">phase_rgb_user_kernel.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
